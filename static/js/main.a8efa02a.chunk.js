(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{11:function(t,e,n){t.exports={form:"ContactForm_form__17Uv9",label:"ContactForm_label__3kfas",input:"ContactForm_input__20CzJ",button:"ContactForm_button__3qyVQ"}},15:function(t,e,n){t.exports={list:"ContactList_list__1-pzg",listItem:"ContactList_listItem__1LOQ9",button:"ContactList_button__swizY",appear:"ContactList_appear__TVPNi",appearActive:"ContactList_appearActive__2UTiS",enter:"ContactList_enter__1yjU4",enterActive:"ContactList_enterActive__3Fl92",exit:"ContactList_exit__2L0tD",exitActive:"ContactList_exitActive__1_1h9"}},27:function(t,e,n){t.exports={container:"Toast_container__3i3Q6",message:"Toast_message__1SWdM"}},28:function(t,e,n){t.exports={wrapper:"Loader_wrapper__kzV_A"}},38:function(t,e,n){t.exports={input:"Filter_input__5lc47"}},51:function(t,e,n){},89:function(t,e,n){},90:function(t,e,n){"use strict";n.r(e);var c,a,o=n(1),r=n(0),s=n.n(r),i=n(8),u=n.n(i),b=n(10),l=n(19),j=n(4),h=n(3),d=n(9),m=Object(h.b)("phonebook/fetchContactsRequest"),f=Object(h.b)("phonebook/fetchContactsSuccess"),O=Object(h.b)("phonebook/fetchContactsError"),p=Object(h.b)("phonebook/addContactRequest"),C=Object(h.b)("phonebook/addContactSuccess"),v=Object(h.b)("phonebook/addContactError"),x=Object(h.b)("phonebook/deleteContactRequest"),_=Object(h.b)("phonebook/deleteContactSuccess"),g=Object(h.b)("phonebook/deleteContactError"),y=Object(h.b)("phonebook/changeFilter"),N=Object(h.c)([],(c={},Object(j.a)(c,f,(function(t,e){return e.payload})),Object(j.a)(c,C,(function(t,e){return[e.payload].concat(Object(l.a)(t))})),Object(j.a)(c,_,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),c)),k=Object(h.c)("",Object(j.a)({},y,(function(t,e){return e.payload}))),L=Object(h.c)(!1,(a={},Object(j.a)(a,m,(function(){return!0})),Object(j.a)(a,f,(function(){return!1})),Object(j.a)(a,O,(function(){return!1})),Object(j.a)(a,p,(function(){return!0})),Object(j.a)(a,C,(function(){return!1})),Object(j.a)(a,v,(function(){return!1})),Object(j.a)(a,x,(function(){return!0})),Object(j.a)(a,_,(function(){return!1})),Object(j.a)(a,g,(function(){return!1})),a)),w=Object(d.c)({items:N,filter:k,loading:L}),S=Object(l.a)(Object(h.d)()),A=Object(h.a)({reducer:{contacts:w},middleware:S,devTools:!1}),E=(n(51),n(17)),F=n(18),T=n(21),D=n(20),q=n(16),M=function(t){return t.contacts.items},V=function(t){return t.contacts.filter},z={getLoading:function(t){return t.contacts.loading},getAllContacts:M,getFilter:V,getVisibleContacts:Object(q.a)([M,V],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))}))},I=n(14),P=n.n(I);P.a.defaults.baseURL="http://localhost:4040";var R={fetchContacts:function(){return function(t){t(m()),P.a.get("/contacts").then((function(e){var n=e.data;return t(f(n))})).catch((function(e){return t(O(e))}))}},addContact:function(t,e){return function(n){var c={name:t,number:e};n(p()),P.a.post("/contacts",c).then((function(t){var e=t.data;return n(C(e))})).catch((function(t){return n(v(t))}))}},deleteContact:function(t){return function(e){e(x()),P.a.delete("/contacts/".concat(t)).then((function(){return e(_(t))})).catch((function(t){return e(g(t))}))}}},U=n(11),J=n.n(U),Q=n(27),B=n.n(Q);var W=function(t){var e=t.message;return Object(i.createPortal)(Object(o.jsx)("div",{className:B.a.container,children:Object(o.jsx)("p",{className:B.a.message,children:e})}),document.querySelector("#toast"))},Y=n(91),G=function(t){Object(T.a)(n,t);var e=Object(D.a)(n);function n(){var t;Object(E.a)(this,n);for(var c=arguments.length,a=new Array(c),o=0;o<c;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).state={name:"",number:"",haveError:!1},t.handleChange=function(e){t.setState(Object(j.a)({},e.target.name,e.target.value))},t.handleSubmit=function(e){e.preventDefault();var n=t.state,c=n.name,a=n.number;if(""!==c&&""!==a){if(t.props.contacts.find((function(t){return t.name===c})))return t.showToast("".concat(c," is already in contacts")),void t.setState({name:"",number:""});t.props.onAddContact(c,a),t.setState({name:"",number:""})}else t.showToast("Name or number can't be empty string")},t.showToast=function(e){t.setState((function(t){return{haveError:!t.haveError,errorMessage:e}})),setTimeout((function(){t.setState((function(t){return{haveError:!t.haveError}}))}),1500)},t}return Object(F.a)(n,[{key:"render",value:function(){var t=this.state,e=t.errorMessage,n=t.haveError;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(Y.a,{in:n,timeout:250,classNames:"toast",unmountOnExit:!0,children:Object(o.jsx)(W,{message:e})}),Object(o.jsxs)("form",{onSubmit:this.handleSubmit,className:J.a.form,children:[Object(o.jsxs)("label",{className:J.a.label,children:["Name",Object(o.jsx)("input",{className:J.a.input,type:"text",name:"name",value:this.state.name,onChange:this.handleChange})]}),Object(o.jsxs)("label",{className:J.a.label,children:["Number",Object(o.jsx)("input",{className:J.a.input,type:"text",name:"number",value:this.state.number,onChange:this.handleChange})]}),Object(o.jsx)("button",{type:"submit",className:J.a.button,children:"Add contact"})]})]})}}]),n}(r.Component),H=Object(b.b)((function(t){return{contacts:z.getAllContacts(t)}}),(function(t){return{onAddContact:function(e,n){return t(R.addContact(e,n))}}}))(G),K=n(38),X=n.n(K);var Z=Object(b.b)((function(t){return{value:z.getFilter(t),items:z.getAllContacts(t)}}),(function(t){return{onChangeFilter:function(e){return t(y(e.target.value))}}}))((function(t){var e=t.value,n=void 0===e?"":e,c=t.onChangeFilter,a=t.items;return Object(o.jsx)(Y.a,{in:a.length>0,timeout:500,classNames:"filter",unmountOnExit:!0,children:Object(o.jsxs)("div",{children:[Object(o.jsx)("h3",{children:"Find contact by name"}),Object(o.jsx)("input",{className:X.a.input,type:"text",value:n,onChange:c})]})})})),$=n(15),tt=n.n($),et=n(92);var nt=Object(b.b)((function(t){return{contacts:z.getVisibleContacts(t)}}),(function(t){return{onDeleteContact:function(e){return t(R.deleteContact(e))}}}))((function(t){var e=t.contacts,n=t.onDeleteContact;return Object(o.jsx)(et.a,{component:"ul",className:tt.a.list,children:0===e.length?Object(o.jsx)(Y.a,{timeout:700,classNames:"message-empty",unmountOnExit:!0,children:Object(o.jsx)("li",{children:"Contact list empty for now"})},1):e.map((function(t){var e=t.name,c=t.number,a=t.id;return Object(o.jsx)(Y.a,{appear:!0,timeout:250,classNames:tt.a,children:Object(o.jsxs)("li",{className:tt.a.listItem,children:[Object(o.jsxs)("span",{children:[e,": ",c]}),Object(o.jsx)("button",{type:"button",className:tt.a.button,onClick:function(){return n(a)},children:"Delete contact"})]})},a)}))})})),ct=n(39),at=n.n(ct),ot=(n(88),n(28)),rt=n.n(ot);var st=function(t){return Object(i.createPortal)(Object(o.jsx)("div",{className:rt.a.wrapper,children:Object(o.jsx)("div",{className:rt.a.inner,children:Object(o.jsx)(at.a,{type:"ThreeDots",color:"#27dad4",height:100,width:100})})}),document.querySelector("#toast"))},it=(n(89),function(t){Object(T.a)(n,t);var e=Object(D.a)(n);function n(){return Object(E.a)(this,n),e.apply(this,arguments)}return Object(F.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchContacts()}},{key:"render",value:function(){return Object(o.jsxs)("div",{className:"App",children:[this.props.isLoading&&Object(o.jsx)(st,{}),Object(o.jsxs)("div",{className:"Container",children:[Object(o.jsx)(Y.a,{in:!0,appear:!0,timeout:500,classNames:"title",unmountOnExit:!0,children:Object(o.jsx)("h1",{children:"Phonebook"})}),Object(o.jsx)(H,{}),Object(o.jsx)("h1",{children:"Contacts"}),Object(o.jsx)(Z,{}),Object(o.jsx)(nt,{})]})]})}}]),n}(r.Component)),ut=Object(b.b)((function(t){return{isLoading:z.getLoading(t)}}),(function(t){return{fetchContacts:function(){return t(R.fetchContacts())}}}))(it);u.a.render(Object(o.jsx)(s.a.StrictMode,{children:Object(o.jsx)(b.a,{store:A,children:Object(o.jsx)(ut,{})})}),document.getElementById("root"))}},[[90,1,2]]]);
//# sourceMappingURL=main.a8efa02a.chunk.js.map